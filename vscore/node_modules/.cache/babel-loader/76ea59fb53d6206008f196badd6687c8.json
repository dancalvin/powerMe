{"ast":null,"code":"var _jsxFileName = \"/home/sheraz/MyDrive/fiverPros/powerMe-dev/vscore/src/Components/Index/CustomSelect.jsx\",\n  _s = $RefreshSig$();\n// Import React, useEffect, useState, useRef\nimport React, { useEffect, useRef, useState } from \"react\";\n\n// Import Arrow from SVG.jsx\nimport { arrowDown } from \"../Base/SVG\";\n\n// Genearate a select template that requires a list of options and a function to handle the change\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CustomSelect = _ref => {\n  _s();\n  let {\n    selected = null,\n    list,\n    key = null,\n    onChange\n  } = _ref;\n  const wrapper = useRef(null);\n  const [active, setActive] = useState(false);\n  const [currentList, setCurrentList] = useState(list);\n  const [currentSelected, setCurrentSelected] = useState(selected);\n  const onClick = item => {\n    setCurrentSelected(item);\n    if (onChange) onChange(item);\n    setActive(false);\n  };\n  const toggleActive = () => {\n    setActive(!active);\n  };\n  useEffect(() => {\n    if (currentSelected) setCurrentList(list.filter(item => {\n      let compareKey = key !== null && key !== void 0 ? key : \"value\";\n      return item[compareKey] !== currentSelected[compareKey];\n    }));\n  }, [currentSelected]);\n  useEffect(() => {\n    setCurrentSelected(selected);\n  }, [selected]);\n  useEffect(() => {\n    const windowClick = _ref2 => {\n      let {\n        target\n      } = _ref2;\n      if (!wrapper.current.contains(target)) setActive(false);\n    };\n    if (active) window.addEventListener(\"click\", windowClick);else window.removeEventListener(\"click\", windowClick);\n    return () => window.removeEventListener(\"click\", windowClick);\n  }, [active]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `select ${active ? \"active\" : \"\"}`,\n    ref: wrapper,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"select__selected\",\n      onClick: toggleActive,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"select__selected-inner\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: currentSelected ? currentSelected.value : \"-----\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), currentSelected ? currentSelected.unit : \"-----\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), arrowDown]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"select__options active\",\n      children: currentList.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        onClick: () => onClick(item),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\" \", item.value]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), item.unit]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(CustomSelect, \"xiTYHEVwNAiT6VIE1KJN1f/h6ms=\");\n_c = CustomSelect;\nexport default CustomSelect;\nvar _c;\n$RefreshReg$(_c, \"CustomSelect\");","map":{"version":3,"names":["React","useEffect","useRef","useState","arrowDown","CustomSelect","selected","list","key","onChange","wrapper","active","setActive","currentList","setCurrentList","currentSelected","setCurrentSelected","onClick","item","toggleActive","filter","compareKey","windowClick","target","current","contains","window","addEventListener","removeEventListener","value","unit","map","index"],"sources":["/home/sheraz/MyDrive/fiverPros/powerMe-dev/vscore/src/Components/Index/CustomSelect.jsx"],"sourcesContent":["// Import React, useEffect, useState, useRef\nimport React, { useEffect, useRef, useState } from \"react\";\n\n// Import Arrow from SVG.jsx\nimport { arrowDown } from \"../Base/SVG\";\n\n// Genearate a select template that requires a list of options and a function to handle the change\nconst CustomSelect = ({ selected = null, list, key = null, onChange }) => {\n  const wrapper = useRef(null);\n  const [active, setActive] = useState(false);\n  const [currentList, setCurrentList] = useState(list);\n  const [currentSelected, setCurrentSelected] = useState(selected);\n\n  const onClick = (item) => {\n    setCurrentSelected(item);\n    if (onChange) onChange(item);\n\n    setActive(false);\n  };\n\n  const toggleActive = () => {\n    setActive(!active);\n  };\n\n  useEffect(() => {\n    if (currentSelected)\n      setCurrentList(\n        list.filter((item) => {\n          let compareKey = key ?? \"value\";\n          return item[compareKey] !== currentSelected[compareKey];\n        })\n      );\n  }, [currentSelected]);\n\n  useEffect(() => {\n    setCurrentSelected(selected);\n  }, [selected]);\n\n  useEffect(() => {\n    const windowClick = ({ target }) => {\n      if (!wrapper.current.contains(target)) setActive(false);\n    };\n\n    if (active) window.addEventListener(\"click\", windowClick);\n    else window.removeEventListener(\"click\", windowClick);\n\n    return () => window.removeEventListener(\"click\", windowClick);\n  }, [active]);\n\n  return (\n    <div className={`select ${active ? \"active\" : \"\"}`} ref={wrapper}>\n      <div className=\"select__selected\" onClick={toggleActive}>\n        <div className=\"select__selected-inner\">\n          <span>{currentSelected ? currentSelected.value : \"-----\"}</span>\n          {currentSelected ? currentSelected.unit : \"-----\"}\n        </div>\n        {arrowDown}\n      </div>\n      <ul className=\"select__options active\">\n        {currentList.map((item, index) => (\n          <li key={index} onClick={() => onClick(item)}>\n            <span> {item.value}</span>\n            {item.unit}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default CustomSelect;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}